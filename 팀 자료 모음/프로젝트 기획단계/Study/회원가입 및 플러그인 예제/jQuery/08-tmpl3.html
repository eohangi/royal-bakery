<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>My JSP Page</title>
	<!-- Twitter Bootstrap3 & jQuery -->
	<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" />
	<script src="http://code.jquery.com/jquery.min.js"></script>
	<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<!--  tmpl 플러그인 참조-->
	<script type="text/javascript" src="plugins/handlebars/handlebars-v4.0.5.js"></script>

	<script type="text/javascript">
	// registerHelper = 사용자 함수 정의 
	/** 핸들바 플러그인에 convertGender라는 함수 정의하기 */
	Handlebars.registerHelper('convertGender', function(gender) {
		if (gender == "M") {
			return "남자";
		} else {
			return "여자";
		}
		// body...
	});

	$(function() {

		// 미리 준비한 틀에 출력될 내용을 JSON으로 준비
		var content = {
			name: "jQuery 학생",
			age: 19,
			tel: "010-1234-1234",
			gender: "M",
			address: {
				header: "서울시 강남구 역삼동",
				footer: "123-12번지",
				postcode: "12345"
			}
		};

		//미리 준비한 HTML틀을 읽어온다.
		var template = Handlebars.compile($("#content-tmpl").html());
		var html = template(content);

		//#target에 읽어온 내용을 추가한다.
		$("#target").append(html);

	});
</script>

</head>
<body>
	<div class="container">
		<h1 class="page-header">handlebars 플러그인</h1>

		<!-- Json과 content-tmpl의 조합이 출력될 곳 -->
		<div class="list-group" id="target"></div>
	</div>
	<!--  동적으로 생성될 HTML의 기본 틀 -->
	<script type="text/x-handlebars-template" id="content-tmpl">
		<h2>이름: {{name}}</h2>
		<p>나이: {{age}}</p>
		<p>연락처: {{tel}}</p>
		<p>성별: {{convertGender gender}}</p>
		<p>주소: {{address.postcode}} {{address.header}} {{address.footer}}</p>
	</script>

	<!--<p class="list-group-item-text">This is List Content. Hello World</p>-->
</body>
</html>
